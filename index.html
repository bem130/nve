<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <div id="img_area">
            <canvas id="imgOut" style="image-rendering: pixelated;"></canvas>
        </div>
    </body>
</html>
<script>

let dispsize = [50,50]

class Draw {
    constructor() {
        this.dpds = new Uint8ClampedArray(dispsize[0]*dispsize[1]*3).fill(0);
    }
    dot(x,y,rgb) {
        let idx = (y*dispsize[0]+x)*3;
        this.dpds[idx+0] = rgb[0]
        this.dpds[idx+1] = rgb[1]
        this.dpds[idx+2] = rgb[2]
    }
    update() {
        let x = dispsize[0]
        let y = dispsize[1]
        let iarr = new Uint8ClampedArray(x*y*4).fill(255);
        for (let iy = 0; iy < y; iy++) {
            for (let ix = 0; ix < x; ix++) {
                let iarridx = (iy*x+ix)*4;
                let dpdsidx = (iy*x+ix)*3;
                iarr[iarridx+0] = this.dpds[dpdsidx+0];
                iarr[iarridx+1] = this.dpds[dpdsidx+1];
                iarr[iarridx+2] = this.dpds[dpdsidx+2];
            }
        }
        let co = document.getElementById("imgOut");
        co.height=y;co.width=x;co.getContext('2d').putImageData(new ImageData(iarr,x,y),0,0);
    }
}
draw = new Draw()
draw.dot(10,10,[255,255,255])
draw.update()

// resize window
function resizeImg() {
        dw = dispsize[0]; dh = dispsize[1];
        let bottom_area = 0;let rw = 0;let rh = 0;
        let ww = window.innerWidth;
        let wh = window.innerHeight-bottom_area;
        let csc = 1;
        hcsc = ww/dw; wcsc = wh/dh;
        if (hcsc>wcsc) {
            csc = wcsc; rw = (ww - dw*csc)/2;
        }
        else {
            csc = hcsc; rh = (wh - dh*csc)/2;
        }
        document.getElementById("imgOut").style.marginTop = (rh).toString()+"px";
        document.getElementById("imgOut").style.marginBottom = (rh).toString()+"px";
        document.getElementById("imgOut").style.marginLeft = (rw).toString()+"px";
        document.getElementById("imgOut").style.marginRight = (rw).toString()+"px";
        document.getElementById("imgOut").style.transform = "scale("+csc.toString()+","+csc.toString()+")";
    };
window.onresize = resizeImg;
resizeImg();


</script>
<style>
    #img_area {
        top: 0;
        left: 0;
        position: absolute;
        z-index: -1;
    }
    #imgOut {
        transform-origin: top left;
    }
</style>